## for (i in id) {
##        id.dat <- rbind(dat, read.csv(files_list[i]))
##        id.dat.good <- complete.cases (id.dat[i])
##        nobs <- c(nrow(id.dat.good[i]))for (i in id) {
##id_nobs is sum of complete cases of id_data
##total_nobs is concatenate total_nobs and id_nobs
## }
total_nobs <- data.frame()
for (i in id) {
id.dat <- read.csv(files_list [i])
nobs <- sum(complete.cases (id.dat))
total_nobs <- data.frame (total_nobs, nobs)
return (total_nobs)
}
}
complete("specdata", c(2, 4, 8, 10, 12))
complete <- function(directory, id = 1:332) {
## Builds a list of all CSV within 'directory'
files_list <- list.files(directory, full.names=TRUE)
## For 'id' builds a data frame of applicable CSVs
## for (i in id) {
##        id.dat <- rbind(dat, read.csv(files_list[i]))
##        id.dat.good <- complete.cases (id.dat[i])
##        nobs <- c(nrow(id.dat.good[i]))for (i in id) {
##id_nobs is sum of complete cases of id_data
##total_nobs is concatenate total_nobs and id_nobs
## }
total_nobs <- data.frame()
for (i in id) {
id.dat <- read.csv(files_list [i])
nobs <- sum(complete.cases (id.dat))
id.nobs <- data.frame (id, nobs)
total_nobs <- rbind (total_nobs, id.nobs)
}
}
complete("specdata", c(2, 4, 8, 10, 12))
complete("specdata", c(2, 4, 8, 10, 12))
complete <- function(directory, id = 1:332) {
## Builds a list of all CSV within 'directory'
files_list <- list.files(directory, full.names=TRUE)
## Creates empty data frame for results
total_nobs <- data.frame()
for (i in id) {
## Reads each applicable CSV
id.dat <- read.csv(files_list [i])
## Removes NAs and adds complete case rows
nobs <- sum(complete.cases (id.dat))
## Creates a single row data frame of obs for single CSV
id.nobs <- data.frame (i, nobs)
## Combines into
total_nobs <- rbind (total_nobs, nobs)
return (total_nobs)
}
}
complete("specdata", c(2, 4, 8, 10, 12))
complete <- function(directory, id = 1:332) {
## Builds a list of all CSV within 'directory'
files_list <- list.files(directory, full.names=TRUE)
## Creates empty data frame for results
total_nobs <- data.frame()
for (i in id) {
## Reads each applicable CSV
id.dat <- read.csv(files_list [i])
## Removes NAs and adds complete case rows
nobs <- sum(complete.cases (id.dat))
## Creates a single row data frame of obs for single CSV
id.nobs <- data.frame (i, nobs)
## Adds individual results into a data frame
total_nobs <- rbind (total_nobs, id.nobs)
return (total_nobs)
}
}
complete("specdata", c(2, 4, 8, 10, 12))
complete <- function(directory, id = 1:332) {
## Builds a list of all CSV within 'directory'
files_list <- list.files(directory, full.names=TRUE)
## Creates empty data frame for results
total_nobs <- data.frame()
for (i in id) {
## Reads each applicable CSV
id.dat <- read.csv(files_list [i])
## Removes NAs and adds complete case rows
nobs <- sum(complete.cases (id.dat))
## Creates a single row data frame of obs for single CSV
id.nobs <- data.frame (id, nobs)
## Adds individual results into a data frame
total_nobs <- rbind (total_nobs, id.nobs)
return (total_nobs)
}
}
complete("specdata", c(2, 4, 8, 10, 12))
complete <- function(directory, id = 1:332) {
## Builds a list of all CSV within 'directory'
files_list <- list.files(directory, full.names=TRUE)
## Creates empty data frame for results
total_nobs <- data.frame()
for (i in id) {
## Reads each applicable CSV
id.dat <- read.csv(files_list [i])
## Removes NAs and adds complete case rows
nobs <- sum(complete.cases (id.dat))
## Creates a single row data frame of obs for single CSV
id.nobs <- data.frame (id, nobs)
## Adds individual results into a data frame
total_nobs <- c (total_nobs, id.nobs)
return (total_nobs)
}
}
complete("specdata", c(2, 4, 8, 10, 12))
complete <- function(directory, id = 1:332) {
## Builds a list of all CSV within 'directory'
files_list <- list.files(directory, full.names=TRUE)
## Creates empty data frame for results
total_nobs <- data.frame()
for (i in id) {
## Reads each applicable CSV
id.dat <- read.csv(files_list [i])
## Removes NAs and adds complete case rows
nobs <- sum(complete.cases (id.dat))
## Creates a single row data frame of obs for single CSV
id.nobs <- data.frame (id, nobs)
## Adds individual results into a data frame
total_nobs <- rbind (total_nobs, id.nobs)
return (total_nobs)
}
}
complete("specdata", c(2, 4, 8, 10, 12))
complete <- function(directory, id = 1:332) {
## Builds a list of all CSV within 'directory'
files_list <- list.files(directory, full.names=TRUE)
## Creates empty data frame for results
total_nobs <- data.frame()
for (i in id) {
## Reads each applicable CSV
id.dat <- read.csv(files_list [i])
## Removes NAs and adds complete case rows
nobs <- sum(complete.cases (id.dat))
## Creates a single row data frame of obs for single CSV
id.nobs <- data.frame (i, nobs)
## Adds individual results into a data frame
total_nobs <- rbind (total_nobs, id.nobs)
return (total_nobs)
}
}
complete("specdata", c(2, 4, 8, 10, 12))
complete <- function(directory, id = 1:332) {
## Builds a list of all CSV within 'directory'
files_list <- list.files(directory, full.names=TRUE)
## Creates empty data frame for results
total_nobs <- data.frame()
for (i in id) {
## Reads each applicable CSV
id.dat <- read.csv(files_list [i])
## Removes NAs and adds complete case rows
nobs <- c(sum(complete.cases (id.dat)))
## Creates a single row data frame of obs for single CSV
id.nobs <- data.frame (id, nobs)
## Adds individual results into a data frame
total_nobs <- rbind (total_nobs, id.nobs)
return (total_nobs)
}
}
complete("specdata", c(2, 4, 8, 10, 12))
complete <- function(directory, id = 1:332) {
## Builds a list of all CSV within 'directory'
files_list <- list.files(directory, full.names=TRUE)
## Creates empty data frame for results
total_nobs <- data.frame("id", "nobs")
for (i in id) {
## Reads each applicable CSV
id.dat <- read.csv(files_list [i])
## Removes NAs and adds complete case rows
nobs <- sum(complete.cases (id.dat))
## Creates a single row data frame of obs for single CSV
id.nobs <- data.frame (i, nobs)
## Adds individual results into a data frame
total_nobs <- rbind (total_nobs, id.nobs)
return (total_nobs)
}
}
complete("specdata", c(2, 4, 8, 10, 12))
complete <- function(directory, id = 1:332) {
## Builds a list of all CSV within 'directory'
files_list <- list.files(directory, full.names=TRUE)
## Creates empty data frame for results
total_nobs <- data.frame()
for (i in id) {
## Reads each applicable CSV
id.dat <- read.csv(files_list [i])
## Removes NAs and adds complete case rows
nobs <- sum(complete.cases (id.dat))
## Creates a single row data frame of obs for single CSV
id.nobs <- data.frame (id, nobs)
## Adds individual results into a data frame
total_nobs <- rbind (total_nobs, id.nobs)
return (total_nobs)
}
}
complete("specdata", c(2, 4, 8, 10, 12))
complete <- function(directory, id = 1:332) {
## Builds a list of all CSV within 'directory'
files_list <- list.files(directory, full.names=TRUE)
## Creates empty data frame for results
total_nobs <- data.frame()
for (i in id) {
## Reads each applicable CSV
id.dat <- read.csv(files_list [i])
## Removes NAs and adds complete case rows
nobs <- sum(complete.cases (id.dat))
## Creates a single row data frame of obs for single CSV
id.nobs <- data.frame (id, nobs)
## Adds individual results into a data frame
total_nobs <- rbind (total_nobs, id.nobs)
}
total_nobs
}
complete("specdata", c(2, 4, 8, 10, 12))
complete <- function(directory, id = 1:332) {
## Builds a list of all CSV within 'directory'
files_list <- list.files(directory, full.names=TRUE)
## Creates empty data frame for results
total_nobs <- data.frame()
for (i in id) {
## Reads each applicable CSV
id.dat <- read.csv(files_list [i])
## Removes NAs and adds complete case rows
nobs <- sum(complete.cases (id.dat))
## Creates a single row data frame of obs for single CSV
id.nobs <- data.frame (i, nobs)
## Adds individual results into a data frame
total_nobs <- rbind (total_nobs, id.nobs)
}
total_nobs
}
complete("specdata", c(2, 4, 8, 10, 12))
complete <- function(directory, id = 1:332) {
## Builds a list of all CSV within 'directory'
files_list <- list.files(directory, full.names=TRUE)
## Creates empty data frame for results
total_nobs <- data.frame("id","nobs")
for (i in id) {
## Reads each applicable CSV
id.dat <- read.csv(files_list [i])
## Removes NAs and adds complete case rows
nobs <- sum(complete.cases (id.dat))
## Creates a single row data frame of obs for single CSV
id.nobs <- data.frame (i, nobs)
## Adds individual results into a data frame
total_nobs <- rbind (total_nobs, id.nobs)
}
total_nobs
}
complete("specdata", c(2, 4, 8, 10, 12))
complete <- function(directory, id = 1:332) {
## Builds a list of all CSV within 'directory'
files_list <- list.files(directory, full.names=TRUE)
## Creates empty data frame for results
total_nobs <- data.frame()
for (i in id) {
## Reads each applicable CSV
id.dat <- read.csv(files_list [i])
## Removes NAs and adds complete case rows
nobs <- sum(complete.cases (id.dat))
## Creates a single row data frame of obs for single CSV
id.nobs <- data.frame (i, nobs)
## Adds individual results into a data frame
total_nobs <- rbind (total_nobs, id.nobs)
}
total_nobs
colnames(total_nobs) <- c("id","nobs")
}
complete("specdata", c(2, 4, 8, 10, 12))
complete <- function(directory, id = 1:332) {
## Builds a list of all CSV within 'directory'
files_list <- list.files(directory, full.names=TRUE)
## Creates empty data frame for results
total_nobs <- data.frame()
for (i in id) {
## Reads each applicable CSV
id.dat <- read.csv(files_list [i])
## Removes NAs and adds complete case rows
nobs <- sum(complete.cases (id.dat))
## Creates a single row data frame of obs for single CSV
id.nobs <- data.frame (i, nobs)
## Adds individual results into a data frame
total_nobs <- rbind (total_nobs, id.nobs)
}
total_nobs
colnames(total_nobs) <- c("id","nobs")
}
complete("specdata", c(2, 4, 8, 10, 12))
complete <- function(directory, id = 1:332) {
## Builds a list of all CSV within 'directory'
files_list <- list.files(directory, full.names=TRUE)
## Creates empty data frame for results
total_nobs <- data.frame()
for (i in id) {
## Reads each applicable CSV
id.dat <- read.csv(files_list [i])
## Removes NAs and adds complete case rows
nobs <- sum(complete.cases (id.dat))
## Creates a single row data frame of obs for single CSV
id.nobs <- data.frame (i, nobs)
## Adds individual results into a data frame
total_nobs <- rbind (total_nobs, id.nobs)
}
colnames(total_nobs) <- c("id","nobs")
total_nobs
}
complete("specdata", c(2, 4, 8, 10, 12))
complete("specdata", 30:25)
complete("specdata", 3)
source("http://d396qusza40orc.cloudfront.net/rprog%2Fscripts%2Fsubmitscript1.R")
submit()
5
submit()
submit()
complete <- function(directory, id = 1:332) {
## Builds a list of all CSV within 'directory'
files_list <- list.files(directory, full.names=TRUE)
## Creates empty data frame for results
total_nobs <- data.frame()
for (i in id) {
## Reads each applicable CSV
id.dat <- read.csv(files_list [i])
## Removes NAs and adds complete case rows
nobs <- sum(complete.cases (id.dat))
## Creates a single row data frame of obs for single CSV
id.nobs <- data.frame (i, nobs)
## Adds individual results into a data frame
total_nobs <- rbind (total_nobs, id.nobs)
}
## Renames columns to "id" and "nobs"
colnames(total_nobs) <- c("id","nobs")
## Prints total_nobs
total_nobs
}
submit()
complete <- function(directory, id = 1:332) {
## Builds a list of all CSV within 'directory'
files_list <- list.files(directory, full.names=TRUE)
## Creates empty data frame for results
total_nobs <- data.frame()
for (i in id) {
## Reads each applicable CSV
id.dat <- read.csv(files_list [i])
## Removes NAs and adds complete case rows
nobs <- sum(complete.cases (id.dat))
## Creates a single row data frame of obs for single CSV
id.nobs <- data.frame (i, nobs)
## Adds individual results into a data frame
total_nobs <- rbind (total_nobs, id.nobs)
}
## Renames columns to "id" and "nobs"
colnames(total_nobs) <- c("id","nobs")
## Prints total_nobs
total_nobs
}
source("http://d396qusza40orc.cloudfront.net/rprog%2Fscripts%2Fsubmitscript1.R")
submit()
submit()
submit()
complete <- function(directory, id = 1:332) {
## Builds a list of all CSV within 'directory'
files_list <- list.files(directory, full.names=TRUE)
## Creates empty data frame for results
total_nobs <- data.frame()
for (i in id) {
## Reads each applicable CSV
id.dat <- read.csv(files_list [i])
## Removes NAs and adds complete case rows
nobs <- sum(complete.cases (id.dat))
## Creates a single row data frame of obs for single CSV
id.nobs <- data.frame (i, nobs)
## Adds individual results into a data frame
total_nobs <- rbind (total_nobs, id.nobs)
}
## Renames columns to "id" and "nobs"
colnames(total_nobs) <- c("id","nobs")
## Prints total_nobs
print (total_nobs)
}
submit()
?cor
?na.omit
source("complete.R")
?cor
corr <- function(directory, threshold = 0) {
## Builds a list of all CSV within 'directory'
files_list <- list.files(directory, full.names=TRUE)
## Determines number of complete rows for directory
complete.monitors <- complete (directory, id = 1:nrows(directory))
## Determines monitors that meet the threshold requirement
monitors.good <- complete.monitors[,(complete.monitors$nobs > threshold)]
## Create empty data frame for good monitors
dat <- data.frame ()
## Read the CSVs for 'monitor.good' into data frame
good_files_list <- list.files(monitors.good$id, fulle.names=TRUE)
dat.monitors.good <- rbind(dat, read.csv(good_files_list))
## Correlate sulfate and nitrate values of complete cases above
## threshold
## cor(x, y = NULL, use = "everything",
##      method = c("pearson", "kendall", "spearman"))
cor(dat.monitors.good$sulfate, dat.monitors.good$nitrate, use = "complete.obs")
print(corr)
}
cr <- corr("specdata", 150)
corr <- function(directory, threshold = 0) {
## Determines number of complete rows for directory
complete.monitors <- complete (directory)
## Determines monitors that meet the threshold requirement
monitors.good <- complete.monitors[,(complete.monitors$nobs > threshold)]
## Create empty data frame for good monitors
dat <- data.frame ()
## Read the CSVs for 'monitor.good' into data frame
good_files_list <- list.files(monitors.good$id, full.names=TRUE)
dat.monitors.good <- rbind(dat, read.csv(good_files_list))
## Correlate sulfate and nitrate values of complete cases above
## threshold
## cor(x, y = NULL, use = "everything",
##      method = c("pearson", "kendall", "spearman"))
cor(dat.monitors.good$sulfate, dat.monitors.good$nitrate, use = "complete.obs")
print(corr)
}
cr <- corr("specdata", 150)
?head
corr <- function(directory, threshold = 0) {
## Determines number of complete rows for directory
complete.monitors <- complete (directory)
## Determines monitors that meet the threshold requirement in a data
## frame with ids & nobs as a result
above <- complete.monitors$nobs > threshold
monitors.above <- complete.monitors[above, ]
## Create empty data frame for correlation values
correlations <- data.frame ()
## Builds a list of all CSV within 'directory'
files_list <- list.files(directory, full.names=TRUE)
## Vector of good monitors' ids
ids.above <- monitors.above[1,]
## For each good monitor, run corr
## cor(x, y = NULL, use = "everything",
##      method = c("pearson", "kendall", "spearman"))
## use = "complete.obs" removes NAs
for (i in ids.above) {
id.data <- read.csv(files_list [i])
cor(id.data$sulfate, id.data$nitrate, use = "complete.obs")
}
print(corr)
}
cr <- corr("specdata", 150)
corr <- function(directory, threshold = 0) {
## Determines number of complete rows for directory
complete.monitors <- complete (directory)
## Determines monitors that meet the threshold requirement in a data
## frame with ids & nobs as a result
above <- complete.monitors$nobs > threshold
monitors.above <- complete.monitors[above, ]
## Create empty data frame for correlation values
correlations <- data.frame ()
## Builds a list of all CSV within 'directory'
files_list <- list.files(directory, full.names=TRUE)
## Vector of good monitors' ids
ids.above <- monitors.above[,1]
## For each good monitor, run corr
## cor(x, y = NULL, use = "everything",
##      method = c("pearson", "kendall", "spearman"))
## use = "complete.obs" removes NAs
for (i in ids.above) {
id.data <- read.csv(files_list [i])
cor(id.data$sulfate, id.data$nitrate, use = "complete.obs")
}
print(corr)
}
cr <- corr("specdata", 150)
cr <- corr("specdata", 150)
source("complete.R")
cr <- corr("specdata", 150)
source("corr.R")
cr <- corr("specdata", 150)
source("corr.R")
cr <- corr("specdata", 150)
head(cr)
source("corr.R")
cr <- corr("specdata", 150)
head(cr)
source("corr.R")
cr <- corr("specdata", 150)
head(cr)
head(cr)
summary(cr)
cr <- corr("specdata", 400)
head(cr)
summary(cr)
cr <- corr("specdata", 5000)
summary(cr)
cr <- corr("specdata", 5000)
summary(cr)
source("corr.R")
cr <- corr("specdata", 5000)
source("corr.R")
summary(cr)
length(cr)
cr <- corr("specdata")
summary(cr)
length(cr)
source("http://d396qusza40orc.cloudfront.net/rprog%2Fscripts%2Fsubmitscript1.R")
source()
source("http://d396qusza40orc.cloudfront.net/rprog%2Fscripts%2Fsubmitscript1.R")
source()
submit()
submit()
submit()
